var Button={Button:function(o){"number"==typeof o.cooldown&&(this.data_cooldown=o.cooldown),this.data_remaining=0,"function"==typeof o.click&&(this.data_handler=o.click);var t=$("<div>").attr("id",void 0!==o.id?o.id:"BTN_"+Engine.getGuid()).addClass("button").text(void 0!==o.text?o.text:"button").click((function(){$(this).hasClass("disabled")||(Button.cooldown($(this)),$(this).data("handler")($(this)))})).data("handler","function"==typeof o.click?o.click:function(){Engine.log("click")}).data("remaining",0).data("cooldown","number"==typeof o.cooldown?o.cooldown:0).data("boosted",o.boosted??(()=>!1));if(t.append($("<div>").addClass("cooldown")),Button.cooldown(t,"state"),o.cost){var d=o.ttPos?o.ttPos:"bottom right",a=$("<div>").addClass("tooltip "+d);for(var n in o.cost)$("<div>").addClass("row_key").text(_(n)).appendTo(a),$("<div>").addClass("row_val").text(o.cost[n]).appendTo(a);a.children().length>0&&a.appendTo(t)}return o.width&&t.css("width",o.width),t},saveCooldown:!0,setDisabled:function(o,t){o&&(t||o.data("onCooldown")?t&&o.addClass("disabled"):o.removeClass("disabled"),o.data("disabled",t))},isDisabled:function(o){return!!o&&!0===o.data("disabled")},cooldown:function(o,t){var d=o.data("cooldown");o.data("boosted")()&&(d/=2);var a="cooldown."+o.attr("id");if(d>0){var n,e;switch("number"==typeof t&&(d=t),t){case"state":if(!$SM.get(a))return;e=((n=Math.min($SM.get(a),d))/d).toFixed(4);break;default:n=d,e=1}Button.clearCooldown(o),Button.saveCooldown&&($SM.set(a,n),o.data("countdown",Engine.setInterval((function(){$SM.set(a,$SM.get(a,!0)-.5,!0)}),500)));var i=n;Engine.options.doubleTime&&(i/=2),$("div.cooldown",o).width(100*e+"%").animate({width:"0%"},1e3*i,"linear",(function(){Button.clearCooldown(o,!0)})),o.addClass("disabled"),o.data("onCooldown",!0)}},clearCooldown:function(o,t){t||!1||$("div.cooldown",o).stop(!0,!0),o.data("onCooldown",!1),o.data("countdown")&&(window.clearInterval(o.data("countdown")),$SM.remove("cooldown."+o.attr("id")),o.removeData("countdown")),o.data("disabled")||o.removeClass("disabled")}};